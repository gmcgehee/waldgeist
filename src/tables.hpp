#include "types.hpp"
#include "bitboard.hpp"

/*
    TODO:

    - Generate attack tables for pawns
    - Lookup tables for knight moves

*/

// Scheme: TABLE[SIDE][SQUARE]
// Side  : WHITE or BLACK (0, 1)
// Square: a1-h8 (0 - 63); necessarily 63 squares to allow consistent indexing

inline constexpr Bitboard PAWN_ATTACKS[2][64] = {
    {0x0000000000000200ULL,
     0x0000000000000500ULL,
     0x0000000000000a00ULL,
     0x0000000000001400ULL,
     0x0000000000002800ULL,
     0x0000000000005000ULL,
     0x000000000000a000ULL,
     0x0000000000004000ULL,
     0x0000000000020000ULL,
     0x0000000000050000ULL,
     0x00000000000a0000ULL,
     0x0000000000140000ULL,
     0x0000000000280000ULL,
     0x0000000000500000ULL,
     0x0000000000a00000ULL,
     0x0000000000400000ULL,
     0x0000000002000000ULL,
     0x0000000005000000ULL,
     0x000000000a000000ULL,
     0x0000000014000000ULL,
     0x0000000028000000ULL,
     0x0000000050000000ULL,
     0x00000000a0000000ULL,
     0x0000000040000000ULL,
     0x0000000200000000ULL,
     0x0000000500000000ULL,
     0x0000000a00000000ULL,
     0x0000001400000000ULL,
     0x0000002800000000ULL,
     0x0000005000000000ULL,
     0x000000a000000000ULL,
     0x0000004000000000ULL,
     0x0000020000000000ULL,
     0x0000050000000000ULL,
     0x00000a0000000000ULL,
     0x0000140000000000ULL,
     0x0000280000000000ULL,
     0x0000500000000000ULL,
     0x0000a00000000000ULL,
     0x0000400000000000ULL,
     0x0002000000000000ULL,
     0x0005000000000000ULL,
     0x000a000000000000ULL,
     0x0014000000000000ULL,
     0x0028000000000000ULL,
     0x0050000000000000ULL,
     0x00a0000000000000ULL,
     0x0040000000000000ULL,
     0x0200000000000000ULL,
     0x0500000000000000ULL,
     0x0a00000000000000ULL,
     0x1400000000000000ULL,
     0x2800000000000000ULL,
     0x5000000000000000ULL,
     0xa000000000000000ULL,
     0x4000000000000000ULL,
     0x0000000000000000ULL,
     0x0000000000000000ULL,
     0x0000000000000000ULL,
     0x0000000000000000ULL,
     0x0000000000000000ULL,
     0x0000000000000000ULL,
     0x0000000000000000ULL,
     0x0000000000000000ULL},

    {0x0000000000000000ULL,
     0x0000000000000000ULL,
     0x0000000000000000ULL,
     0x0000000000000000ULL,
     0x0000000000000000ULL,
     0x0000000000000000ULL,
     0x0000000000000000ULL,
     0x0000000000000000ULL,
     0x0000000000000002ULL,
     0x0000000000000005ULL,
     0x000000000000000aULL,
     0x0000000000000014ULL,
     0x0000000000000028ULL,
     0x0000000000000050ULL,
     0x00000000000000a0ULL,
     0x0000000000000040ULL,
     0x0000000000000200ULL,
     0x0000000000000500ULL,
     0x0000000000000a00ULL,
     0x0000000000001400ULL,
     0x0000000000002800ULL,
     0x0000000000005000ULL,
     0x000000000000a000ULL,
     0x0000000000004000ULL,
     0x0000000000020000ULL,
     0x0000000000050000ULL,
     0x00000000000a0000ULL,
     0x0000000000140000ULL,
     0x0000000000280000ULL,
     0x0000000000500000ULL,
     0x0000000000a00000ULL,
     0x0000000000400000ULL,
     0x0000000002000000ULL,
     0x0000000005000000ULL,
     0x000000000a000000ULL,
     0x0000000014000000ULL,
     0x0000000028000000ULL,
     0x0000000050000000ULL,
     0x00000000a0000000ULL,
     0x0000000040000000ULL,
     0x0000000200000000ULL,
     0x0000000500000000ULL,
     0x0000000a00000000ULL,
     0x0000001400000000ULL,
     0x0000002800000000ULL,
     0x0000005000000000ULL,
     0x000000a000000000ULL,
     0x0000004000000000ULL,
     0x0000020000000000ULL,
     0x0000050000000000ULL,
     0x00000a0000000000ULL,
     0x0000140000000000ULL,
     0x0000280000000000ULL,
     0x0000500000000000ULL,
     0x0000a00000000000ULL,
     0x0000400000000000ULL,
     0x0002000000000000ULL,
     0x0005000000000000ULL,
     0x000a000000000000ULL,
     0x0014000000000000ULL,
     0x0028000000000000ULL,
     0x0050000000000000ULL,
     0x00a0000000000000ULL,
     0x0040000000000000ULL}};

// Does not depend on side
inline constexpr Bitboard KNIGHT_MOVES[64] = {
    0x0000000000020400ULL,
    0x0000000000050800ULL,
    0x00000000000a1100ULL,
    0x0000000000142200ULL,
    0x0000000000284400ULL,
    0x0000000000508800ULL,
    0x0000000000a01000ULL,
    0x0000000000402000ULL,
    0x0000000002040004ULL,
    0x0000000005080008ULL,
    0x000000000a110011ULL,
    0x0000000014220022ULL,
    0x0000000028440044ULL,
    0x0000000050880088ULL,
    0x00000000a0100010ULL,
    0x0000000040200020ULL,
    0x0000000204000402ULL,
    0x0000000508000805ULL,
    0x0000000a1100110aULL,
    0x0000001422002214ULL,
    0x0000002844004428ULL,
    0x0000005088008850ULL,
    0x000000a0100010a0ULL,
    0x0000004020002040ULL,
    0x0000020400040200ULL,
    0x0000050800080500ULL,
    0x00000a1100110a00ULL,
    0x0000142200221400ULL,
    0x0000284400442800ULL,
    0x0000508800885000ULL,
    0x0000a0100010a000ULL,
    0x0000402000204000ULL,
    0x0002040004020000ULL,
    0x0005080008050000ULL,
    0x000a1100110a0000ULL,
    0x0014220022140000ULL,
    0x0028440044280000ULL,
    0x0050880088500000ULL,
    0x00a0100010a00000ULL,
    0x0040200020400000ULL,
    0x0204000402000000ULL,
    0x0508000805000000ULL,
    0x0a1100110a000000ULL,
    0x1422002214000000ULL,
    0x2844004428000000ULL,
    0x5088008850000000ULL,
    0xa0100010a0000000ULL,
    0x4020002040000000ULL,
    0x0400040200000000ULL,
    0x0800080500000000ULL,
    0x1100110a00000000ULL,
    0x2200221400000000ULL,
    0x4400442800000000ULL,
    0x8800885000000000ULL,
    0x100010a000000000ULL,
    0x2000204000000000ULL,
    0x0004020000000000ULL,
    0x0008050000000000ULL,
    0x00110a0000000000ULL,
    0x0022140000000000ULL,
    0x0044280000000000ULL,
    0x0088500000000000ULL,
    0x0010a00000000000ULL,
    0x0020400000000000ULL,
};